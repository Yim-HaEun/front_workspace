<!DOCTYPE html>
<html>
    <head>
        <title>회원가입</title>
        <script>
            function submitPassword(){
                var password = document.getElementById("password").value;
                var confirmpassword = document.getElementById("confirmpassword").value;
                /*정규식을 활용해서 
                적어도 영문자 소     대문자   숫자 특수문자포함하기 (아래 내용들 다 쓸 수 있다.)8~32
                 /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,32}$/
                */
                var passwordPattern=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,32}$/;
                var errorPW = document.getElementById("pm");
                
                if(!password.match(passwordPattern)){ //패스워드가 일치하지 않는다면
                    errorPW.textContent = "비밀번호는 8~32자의 영문 대문자,소문자,특수문자,숫자를 포함해야합니다.";
                    return false;
                }else{
                    errorPW.textContent = "";//유효한 경우 오류메세지 지우기
                    
                }

                if(password !== confirmpassword){
                    errorPW.textContent = "비밀번호가 일치하지 않습니다.";
                    return false;
                }else{
                    errorPW.textContent="";
                  
                }
                alert("성공!")
                return true;
            }
        </script>
    </head>
    <body>
        <!--
            onsubmit :폼이 제출될 때 JS 함수가 반환하는 값에 따라 폼이 계속 진행되거나 멈출지 결정
            return true : 폼이 계속 진행되고 서버로 데이터가 제출됨
            return false: 폼이 제출되지 않고 서버로 데이터가 전송되지 않음
        -->
        <form onsubmit="return submitPassword()">
            <label for="username">아이디 : </label> <!--for는 아래문(input)과 연결시키는 역할-->
            <input type="text" id="username">

            <label for = "password">비밀번호 : </label>
            <input type = "password" id = "password" onclick="pwmsg()">
            <!--
                 <p id="pm"></p>
                 p 태그 안에는 비밀번호가 잘못 입력되었을 때나 비밀번호를 작성함에있어 유효한 입력을 유도하기위해 보여지는 태그
                 
            -->
            <p id="pm" style="color:red"></p><br>
            <label for = "confirmpassword">비밀번호 확인 : </label>
            <input type="password" id="confirmpassword"><br>  
            <input type="submit" value="제출">
        </form>
    </body>
</html>